{{ 'worn-by-you.css' | asset_url | stylesheet_tag }}

<section class="worn-by-you page-width">
  <div class="worn-by-you__container">
    {% if section.settings.heading != blank %}
      <h2 class="worn-by-you__heading">{{ section.settings.heading }}</h2>
    {% endif %}

    <div class="worn-by-you__grid">
      {% for block in section.blocks %}
        <div class="worn-by-you__item" {{ block.shopify_attributes }}>
          <a href="{{ block.settings.link | default: '#' }}" class="worn-by-you__link">
            <div class="worn-by-you__image-wrapper">
              {% if block.settings.image != blank %}
                <img
                  src="{{ block.settings.image | img_url: '600x' }}"
                  alt="{{ block.settings.handle | escape }}"
                  class="worn-by-you__image"
                  loading="lazy"
                  width="{{ block.settings.image.width }}"
                  height="{{ block.settings.image.height }}">
              {% else %}
                {{ 'image' | placeholder_svg_tag: 'worn-by-you__placeholder' }}
              {% endif %}
            </div>
            {% if block.settings.handle != blank %}
              <p class="worn-by-you__handle">{{ block.settings.handle }}</p>
            {% endif %}
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Worn By You",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "WORN BY YOU"
      }
    ],
    "blocks": [
      {
        "type": "ugc_image",
        "name": "UGC Image",
        "limit": 6,
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image",
            "info": "Portrait ratio (4:5) recommended"
          },
          {
            "type": "text",
            "id": "handle",
            "label": "Instagram Handle",
            "default": "@username"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Image Link (Optional)"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Worn By You",
        "blocks": [
          {
            "type": "ugc_image",
            "settings": {
              "handle": "@sanaabanana_"
            }
          },
          {
            "type": "ugc_image",
            "settings": {
              "handle": "@ladylolita__"
            }
          },
          {
            "type": "ugc_image",
            "settings": {
              "handle": "@shikhamehra"
            }
          }
        ]
      }
    ]
  }
{% endschema %}